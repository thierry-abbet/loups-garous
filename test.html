<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Server Diagnostic</title>
    <style>
        body { font-family: sans-serif; padding: 20px; background: #222; color: #eee; }
        .status { padding: 10px; margin: 5px 0; border-radius: 5px; background: #333; }
        .success { background: #15803d; color: white; }
        .error { background: #b91c1c; color: white; }
    </style>
    <!-- Load React UMD -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Load Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <h1>Diagnostic du Serveur</h1>
    
    <div id="check-html" class="status success">1. HTML Loading: OK</div>
    <div id="check-react" class="status">2. React Global: Checking...</div>
    <div id="check-babel" class="status">3. Babel JSX: Checking...</div>

    <div id="root"></div>

    <script>
        // Check 2: React Globals
        const rDiv = document.getElementById('check-react');
        if (window.React && window.ReactDOM) {
            rDiv.className = "status success";
            rDiv.innerHTML = "2. React Global: OK (v" + React.version + ")";
        } else {
            rDiv.className = "status error";
            rDiv.innerHTML = "2. React Global: FAILED (React is undefined)";
        }
    </script>

    <script type="text/babel">
        // Check 3: Babel JSX Execution
        try {
            const bDiv = document.getElementById('check-babel');
            const TestComponent = () => {
                React.useEffect(() => {
                    bDiv.className = "status success";
                    bDiv.innerHTML = "3. Babel JSX: OK (Component Mounted)";
                }, []);
                return <div style={{marginTop: '20px', padding: '10px', border: '1px solid #444'}}>React Root Rendered Successfully</div>;
            };
            
            const root = ReactDOM.createRoot(document.getElementById('root'));
            root.render(<TestComponent />);
        } catch (e) {
            document.getElementById('check-babel').className = "status error";
            document.getElementById('check-babel').innerHTML = "3. Babel JSX: FAILED (" + e.message + ")";
        }
    </script>
</body>
</html>